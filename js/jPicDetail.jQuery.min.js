(function(a){a.fn.jPicDetail=function(b){var c={stickDurationAfter:800,overlayColor:"#000",overlayTransparency:0.8,descriptionTextColor:"#FFF",descriptionPadding:0};b=a.extend({},c,b);return this.each(function(){var g=a(this);function f(h){var i=[];i.imgHeight=h.find("img").innerHeight();i.imgWidth=h.find("img").innerWidth();i.spanHeight=h.find("span").innerHeight();return i}function d(h){h.css({position:"relative",overflow:"hidden",height:f(h).imgHeight,width:f(h).imgWidth});h.find("span").css({width:f(h).imgWidth-(b.descriptionPadding*2)})}function e(h){h.css({top:f(h.parent()).imgHeight,left:0})}g.find("img").load(function(){g.find("li").each(function(i){var h=a(this);d(h)});g.find("li").each(function(h){var i=a(this).find("img").next("span");e(i)});g.find("span").css({opacity:0,padding:b.descriptionPadding,position:"absolute",backgroundColor:b.overlayColor,color:b.descriptionTextColor})});g.find("li").hover(function(h){a(this).find("span").animate({opacity:b.overlayTransparency,top:f(a(this)).imgHeight-(f(a(this)).spanHeight)},200,function(){});h.stopPropagation()},function(h){a(this).find("span").delay(b.stickDurationAfter).animate({opacity:0,top:f(a(this)).imgHeight+(f(a(this)).spanHeight)},300,function(){});h.stopPropagation()});g.find("li").each(function(){var h=a(this).find("img");var i=h.attr("data-descr");h.after("<span>"+i+"</span>")})})}})(jQuery);